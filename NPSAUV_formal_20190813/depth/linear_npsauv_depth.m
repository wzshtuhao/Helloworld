global u0;
global A_depth;
global B_depth;
global ts_depth;
rou=1000;
L=5.3;
m=5454.54;
xG=0;
Y_v=-0.1;
Y_r=3.0e-02;
Y_deltar=2.7e-02;
N_v=-7.4e-03;
N_r=-1.6e-02;
N_deltar=-1.3e-02;
Y_vdot=-5.5e-02;
Y_rdot=1.2e-03;
N_vdot=1.2e-3;
N_rdot=-3.4e-3;
Yv=0.5*rou*L^2*Y_v;
Yr=0.5*rou*L^3*Y_r;
Ydeltar=0.5*rou*L^2*u0^2*Y_deltar;
Nv=0.5*rou*L^3*N_v;
Nr=0.5*rou*L^4*N_r;
Ndeltar=0.5*rou*L^3*u0^2*N_deltar;
Yvdot=0.5*rou*L^3*Y_vdot;
Yrdot=0.5*rou*L^4*Y_rdot;
Nvdot=0.5*rou*L^4*N_vdot;
Nrdot=0.5*rou*L^5*N_rdot;
Iz=13587;

M_deltas=-4.1e-02;
Z_deltas=-7.3e-02;
Z_wdot=-2.4e-01;
Z_qdot=-6.8e-03;
Z_w=-3.0e-01;
Z_q=-1.4e-01;
X_udot=-7.6e-03;
Iy=13587;
M_qdot=-1.7e-02;
M_uq=-6.8e-2;
M_q=M_uq;
M_uw=0.1;
M_w=M_uw;
M_wdot=-6.8e-2;
zG=6.1e-2;
zB=0;
BGz=zG-zB;
W=53400;


Zwdot=rou*L^3/2*Z_wdot;
Zqdot=rou*L^4/2*Z_qdot;
Mqdot=rou*L^5/2*M_qdot;
Zw=rou*L^2/2*Z_w;
Zq=rou*L^3/2*Z_q;
Mw=rou*L^3/2*M_w;
Mq=rou*L^4/2*M_q;
Mwdot=rou*L^4/2*M_wdot;
Zdeltas=rou*L^2/2*Z_deltas;
Mdeltas=rou*L^3/2*M_deltas;
Xudot=rou*L^3/2*X_udot;
left=[m-Zwdot       -m*xG-Zqdot 0     0;
     -m*xG-Mwdot   Iy-Mqdot     0     0;
      0             0           1     0;
      0             0           0     1];
% right=-[-Zw                  -Zq-(m-Xudot)*u0   0   0;
%         -Mw+(Zwdot-Xudot)*u0 m*xG*u0-Mq         0   W*BGz;
%         -1                   0                  0   u0;
%         0                    -1                 0   0];
g=9.8;
T2=[m-Zwdot       -m*xG-Zqdot;
     -m*xG-Mwdot   Iy-Mqdot];
inv_T2=inv(T2);
  A_depth=[inv_T2*[Zw Zq+m*u0;Mw Mq] m*g*(zG-zB)*inv_T2(:,2) [0;0];
      [0 1 0 0];[1 0 -u0 0]];
  B_depth=[inv_T2*[Zdeltas;Mdeltas];0;0];
  [A_depth,B_depth]=c2d(A_depth,B_depth,ts_depth);
  A_depth=[A_depth B_depth;
           [0 0 0 0 1]];
  B_depth=[B_depth;1];
% A_depth=[-0.7 -0.3 0;
%          1    0    0;
%          0    -u0  0];
% B_depth=[0.035;0;0];
% [A_depth,B_depth]=c2d(A_depth,B_depth,ts_depth);
% 
% A_depth=[A_depth B_depth;
%          [0 0 0  1]]
% B_depth=[B_depth;1]
% % ts=0.3;
% % A_depth=[    1.4961   -0.0257   -0.0015    0.0000;
% %    26.7801    0.1564   -0.0840    0.0010];
% % A_depth=[A_depth(:,1:3) [0;0] A_depth(:,4);[0 1*ts 1 0 0];[ts 0 0 1 0];[0 0 0 0 1]];
% % B_depth=A_depth(:,5);
%A_depth*(A_depth*[0;0;0;0]+B_depth*1*pi/180)+B_depth*1*pi/180